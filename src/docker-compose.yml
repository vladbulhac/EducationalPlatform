version: "3.9"
services:
    sqldb:
        image: "mcr.microsoft.com/mssql/server:2019-latest"
    rabbitmq:
        image: rabbitmq:3-management-alpine
    educationalinstitution-api:
        build: 
            context: .
            dockerfile: Services/Edu/EducationalInstitution.API/Dockerfile
        depends_on:
            - sqldb
            - rabbitmq
    notification-api:
        build: 
            context: .
            dockerfile: Services/Notification/Notification.API/Dockerfile
        depends_on:
            - sqldb
            - rabbitmq
    aggregator:
        build:
            context: .
            dockerfile: APIGateway/Aggregator/Dockerfile
        depends_on:
            - educationalinstitution-api

